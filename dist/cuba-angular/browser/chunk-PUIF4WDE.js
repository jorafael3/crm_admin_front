import{a as ie}from"./chunk-7FH7FPC3.js";import{a as te}from"./chunk-ATFP6UDS.js";import{e as we}from"./chunk-OPM2N66B.js";import"./chunk-CLW3VSY3.js";import{a as ge}from"./chunk-BUGDXRDW.js";import{b as U}from"./chunk-B2JISH5B.js";import{B as _e,C as Ce,D as fe,E as ve,F as be,H as xe,I as ye,J as Se,s as D,u as M,v as T,w as I,x as E}from"./chunk-AHKOR54J.js";import{A as ee,d as Q,h as q,i as K,j as z,l as J,n as Y,q as X,r as Z}from"./chunk-5WZK6UI3.js";import{D as R,l as L,r as W}from"./chunk-WPZ2662Z.js";import{$b as w,Ab as G,Ca as me,Da as _,Ea as C,Ec as O,Fc as B,Gc as $,Hb as S,Jc as pe,Kc as s,Lc as u,Ma as le,Mc as k,Nb as d,Pc as ue,Qc as de,Rc as he,Uc as A,Wb as l,Yb as H,_b as ce,cc as h,ec as v,fc as b,gc as x,hc as i,ic as n,jc as m,nc as F,ob as N,ub as r,wc as y,yc as c}from"./chunk-EOCIFGZ3.js";function Ie(t,a){if(t&1&&(i(0,"li"),m(1,"img",10),n()),t&2){let e=a.$implicit;r(),l("src",e.user_profile,N)("alt",e.user_name)}}function Ee(t,a){if(t&1&&(i(0,"li")(1,"div",11)(2,"p",12),s(3),n()()()),t&2){let e=c(2);r(3),k("",e.currentUserChat.total_members-e.currentUserChat.group_members.length,"+")}}function Ne(t,a){if(t&1&&(i(0,"p"),s(1),n()),t&2){let e=c(2);r(),k("",e.currentUserChat.total_members," Members")}}function Fe(t,a){if(t&1&&(i(0,"ul"),b(1,Ie,2,2,"li",null,v),d(3,Ee,4,1,"li"),n(),i(4,"div")(5,"span"),s(6),n(),d(7,Ne,2,1,"p"),n()),t&2){let e=c();r(),x(e.currentUserChat.group_members),r(2),h(e.currentUserChat.total_members&&e.currentUserChat.group_members?3:-1),r(3),u(e.currentUserChat.group_name),r(),h(e.currentUserChat.total_members?7:-1)}}function Pe(t,a){if(t&1&&m(0,"img",10),t&2){let e=c(2);l("src",e.currentUserChat.user_profile,N)("alt",e.currentUserChat.user_name)}}function ke(t,a){if(t&1&&(i(0,"div")(1,"p"),s(2),n()()),t&2){let e=c(3);w("custom-name bg-light-",e.chatService.getTextColor(e.chatService.getUserText(e.currentUserChat.user_name)),""),r(),w("txt-",e.chatService.getTextColor(e.chatService.getUserText(e.currentUserChat.user_name))," f-w-500"),r(),u(e.chatService.getUserText(e.currentUserChat.user_name))}}function Re(t,a){if(t&1&&d(0,ke,3,7,"div",14),t&2){let e=c(2);h(e.currentUserChat.user_name?0:-1)}}function je(t,a){if(t&1&&(i(0,"p"),s(1),n()),t&2){let e=c(2);r(),u(e.currentUserChat.user_status)}}function Ve(t,a){if(t&1&&(i(0,"p"),s(1),n()),t&2){let e=c(2);r(),u(e.currentUserChat.last_seen)}}function Ge(t,a){if(t&1&&(i(0,"div",13),d(1,Pe,1,2,"img",10)(2,Re,1,1),m(3,"div"),n(),i(4,"div")(5,"span"),s(6),n(),d(7,je,2,1,"p")(8,Ve,2,1,"p"),n()),t&2){let e=c();r(),h(e.currentUserChat.user_profile?1:2),r(2),w("status bg-",e.currentUserChat.user_status=="Online"?"success":"warning",""),r(3),u(e.currentUserChat.user_name),r(),h(e.currentUserChat.user_status=="Online"?7:8)}}var j=class t{constructor(a){this.chatService=a}currentUserChat;groupChat=!1;static \u0275fac=function(e){return new(e||t)(G(te))};static \u0275cmp=S({type:t,selectors:[["app-chat-details-header"]],inputs:{currentUserChat:"currentUserChat",groupChat:"groupChat"},decls:17,vars:5,consts:[[1,"right-sidebar-title"],[1,"common-space"],[1,"chat-time-chat"],[1,"d-flex","gap-2","offcanvas-wrapper"],[1,"contact-edit","chat-alert"],[3,"icon"],["ngbDropdown","",1,"contact-edit","chat-alert"],["ngbDropdownToggle","",3,"icon"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)","ngbDropdownItem","",1,"dropdown-item"],[1,"img-fluid","rounded-circle",3,"src","alt"],[1,"custom-name","profile-count","light-background"],[1,"f-w-500"],[1,"active-profile-chat"],[3,"class"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,Fe,8,3)(4,Ge,9,6),n(),i(5,"div",3)(6,"div",4),m(7,"app-svg-icon",5),n(),i(8,"div",6),m(9,"app-svg-icon",7),i(10,"div",8)(11,"a",9),s(12,"View Details"),n(),i(13,"a",9),s(14,"Send Messages"),n(),i(15,"a",9),s(16,"Add To Favorites"),n()()()()()()),e&2&&(r(2),H("group-chat",o.groupChat),r(),h(o.groupChat?3:4),r(4),l("icon","spam"),r(2),l("icon","menubar"))},dependencies:[E,I,T,M,D,U],encapsulation:2})};var Ue=[{id:1,user_name:"Cameron",user_profile:"assets/images/avatar/3.jpg",message_time:"2 min",last_message:"Hey, How are you?",user_status:"Online",unread_message:15},{id:2,user_name:"Esther",user_profile:"assets/images/dashboard-11/user/10.jpg",message_time:"7:30 PM",last_message:"Thanks for reply",user_status:"Online",chats:[{chat:"Good morning. How may I help you with this? \u{1F604}",is_reply:!1,time:"01:14 PM"},{chat:"Could you perhaps clarify the most recent project deadline?",is_reply:!0,time:"01:14 PM"},{chat:"Yes, the deadline is scheduled for Friday of next week.",is_reply:!0,time:"01:14 PM"},{chat:"Is that timeline negotiable?",is_reply:!1,time:"01:14 PM"},{chat:"I'll talk to the team about it.",is_reply:!0,time:"01:14 PM"},{chat:"I appreciate your quick attention to this.",is_reply:!1,time:"01:14 PM"},{chat:"Regards. Do you have any further questions?",is_reply:!0,time:"01:14 PM"}]},{id:3,user_name:"Jane",user_profile:"assets/images/avatar/7.jpg",message_time:"1:10 PM",last_message:"Hey, What's up?",user_status:"Online"},{id:4,user_name:"Ronald",user_profile:"assets/images/avatar/16.jpg",message_time:"3:10 PM",last_message:"I'm ready",user_status:"Online"},{id:5,user_name:"Darlene",user_profile:"assets/images/avatar/4.jpg",message_time:"1:30 PM",last_message:"Hey, How are you?",user_status:"Offline",last_seen:"41 min ago"},{id:6,user_name:"Darrell",user_profile:"assets/images/blog/comment.jpg",message_time:"2:10 PM",last_message:"What's going on?",user_status:"Offline",last_seen:"58 min ago"},{id:7,user_name:"Theresa",user_profile:"assets/images/blog/4.jpg",message_time:"1:50 AM",last_message:"What's up?",user_status:"Online"},{id:8,user_name:"Floyd",user_profile:"assets/images/blog/12.png",message_time:"5:14 PM",last_message:"Are you sure?",user_status:"Offline",last_seen:"56 min ago"},{id:9,user_name:"Annette",user_profile:"assets/images/blog/9.jpg",message_time:"1:50 PM",last_message:"Thanks",user_status:"Offline",last_seen:"25 min ago"}],De=[{id:1,group_name:"Meeting Department",group_profile:"assets/images/avatar/7.jpg",group_members:[{user_name:"Cameron",user_profile:"assets/images/avatar/3.jpg"},{user_name:"Esther",user_profile:"assets/images/dashboard-11/user/10.jpg"},{user_name:"Jane",user_profile:"assets/images/avatar/7.jpg"},{user_name:"Ronald",user_profile:"assets/images/avatar/16.jpg"},{user_name:"Darlene",user_profile:"assets/images/avatar/4.jpg"},{user_name:"Darrell",user_profile:"assets/images/blog/comment.jpg"}],total_members:35,message_time:"2 min",last_message:"Hey, How are you?",chats:[{chat:"Good morning. How may I help you with this? \u{1F604}",is_reply:!1,time:"01:14 PM",user_name:"Cameron"},{chat:"Could you perhaps clarify the most recent project deadline?",is_reply:!0,time:"01:14 PM"},{chat:"Yes, the deadline is scheduled for Friday of next week.",is_reply:!0,time:"01:14 PM"},{chat:"Is that timeline negotiable?",is_reply:!1,time:"01:14 PM",user_name:"Ronald"},{chat:"I'll talk to the team about it.",is_reply:!1,time:"01:14 PM",user_name:"Jane"},{chat:"I appreciate your quick attention to this.",is_reply:!0,time:"01:14 PM"},{chat:"Regards. Do you have any further questions?",is_reply:!1,time:"01:14 PM",user_name:"Darlene"}]},{id:2,group_name:"Projects",group_profile:"assets/images/blog/comment.jpg",group_members:[{user_name:"Theresa",user_profile:"assets/images/blog/4.jpg"},{user_name:"Floyd",user_profile:"assets/images/blog/12.png"},{user_name:"Annette",user_profile:"assets/images/blog/9.jpg"},{user_name:"Darrell",user_profile:"assets/images/blog/comment.jpg"},{user_name:"Cameron",user_profile:"assets/images/avatar/3.jpg"},{user_name:"Darlene",user_profile:"assets/images/avatar/4.jpg"}],total_members:40,message_time:"1:10 PM",last_message:"Hey, What's up?"}],Me=[{id:1,user_name:"Andres Williamson",user_profile:"assets/images/avatar/3.jpg",contact_number:"191-900-5689"},{id:2,user_name:"Britlin Weed",user_profile:"assets/images/blog/comment.jpg",contact_number:"698-781-5581"},{id:3,user_name:"Brendra Dixit",contact_number:"589-789-2563"},{id:4,user_name:"Cody Fisher",user_profile:"assets/images/blog/14.png",contact_number:"983-333-4545"},{id:5,user_name:"Clifford Evans",contact_number:"321-456-7878"},{id:6,user_name:"Cameron Williamson",contact_number:"369-852-7417"},{id:7,user_name:"Darlene Robertson",user_profile:"assets/images/blog/12.png",contact_number:"231-279-1001"},{id:8,user_name:"Dianne Russell",user_profile:"assets/images/user/3.png",contact_number:"569-789-1002"},{id:9,user_name:"Darrell Steward",user_profile:"assets/images/user/6.jpg",contact_number:"200-300-1030"},{id:10,user_name:"Emily Collins",user_profile:"assets/images/user/1.jpg",contact_number:"100-555-7032"},{id:11,user_name:"Fiona Cooper",user_profile:"assets/images/user/2.jpg",contact_number:"362-778-1919"},{id:12,user_name:"Freya Grayson",contact_number:"589-789-2563"},{id:13,user_name:"Gabriel Evans",contact_number:"963-147-5024"}],P=["Hi, how are you?","Ohh... I can't understand what you trying to say. Sorry!","I like to play games... But I don't know how to play!","Sorry if my answers are not relevant. :))","I feel sleepy! :("];function He(t,a){if(t&1&&m(0,"img",22),t&2){let e=c(2).$implicit;l("src",e.group_profile,N)("alt",e.group_name)}}function Oe(t,a){if(t&1&&(i(0,"div",19)(1,"div",21),d(2,He,1,2,"img",22),n(),i(3,"div")(4,"span"),s(5),n(),i(6,"p"),s(7),n()()()),t&2){let e=c().$implicit;r(2),h(e.group_profile&&e.group_name?2:-1),r(3),u(e.group_name),r(2),u(e.last_message)}}function Be(t,a){if(t&1&&m(0,"img",22),t&2){let e=c(2).$implicit;l("src",e.user_profile,N)("alt",e.user_name)}}function $e(t,a){if(t&1&&(i(0,"div",19)(1,"div",21),d(2,Be,1,2,"img",22),m(3,"div"),n(),i(4,"div")(5,"span"),s(6),n(),i(7,"p"),s(8),n()()()),t&2){let e=c().$implicit;r(2),h(e.user_profile&&e.user_name?2:-1),r(),w("status bg-",e.user_status=="Online"?"success":"warning",""),r(3),u(e.user_name),r(2),u(e.last_message)}}function Ae(t,a){if(t&1&&(i(0,"div",20),s(1),n()),t&2){let e=c().$implicit;r(),u(e.unread_message)}}function Le(t,a){if(t&1){let e=F();i(0,"li",18),y("click",function(){let p=_(e).$implicit,f=c(2);return C(f.handleChat(p))}),d(1,Oe,8,3,"div",19)(2,$e,9,6,"div",19),i(3,"div")(4,"p"),s(5),n(),d(6,Ae,2,1,"div",20),n()()}if(t&2){let e=a.$implicit,o=c(2);H("active",o.activeChat==e.id),r(),h(o.groupChat?1:2),r(4),u(e.message_time),r(),h(e.unread_message?6:-1)}}function We(t,a){if(t&1&&(i(0,"div",12)(1,"p"),s(2,"Recent chats"),n(),i(3,"div",13)(4,"a",14),m(5,"i",15),n()()(),i(6,"ul",16),b(7,Le,7,5,"li",17,v),n()),t&2){let e=c();r(7),x(e.recentChats)}}function Qe(t,a){if(t&1&&m(0,"img",22),t&2){let e=c().$implicit;l("src",e.user_profile,N)("alt",e.user_name)}}function qe(t,a){if(t&1&&(i(0,"div")(1,"p"),s(2),n()()),t&2){let e=c().$implicit,o=c(3);w("custom-name bg-light-",o.chatService.getTextColor(o.chatService.getUserText(e.user_name)),""),r(),w("txt-",o.chatService.getTextColor(o.chatService.getUserText(e.user_name))," f-w-500"),r(),u(o.chatService.getUserText(e.user_name))}}function Ke(t,a){if(t&1&&(i(0,"li",12)(1,"div",19),d(2,Qe,1,2,"img",22)(3,qe,3,7,"div",28),i(4,"div")(5,"span"),s(6),n(),i(7,"p"),s(8),n()()(),i(9,"div",29),m(10,"app-svg-icon",30),i(11,"div",31)(12,"a",32),s(13,"View Details"),n(),i(14,"a",32),s(15,"Send Messages"),n(),i(16,"a",32),s(17,"Add To Favorites"),n()()()()),t&2){let e=a.$implicit;r(2),h(e.user_profile?2:3),r(4),k("",e.user_name,"n"),r(2),u(e.contact_number),r(2),l("icon","menubar")}}function ze(t,a){if(t&1&&(i(0,"p"),s(1),n(),i(2,"ul",27),b(3,Ke,18,4,"li",12,v),n()),t&2){let e=a.$implicit,o=c(2);r(),k("",e," "),r(2),x(o.getContactGroup()[e])}}function Je(t,a){if(t&1&&(i(0,"div",12)(1,"p"),s(2,"Contacts"),n(),i(3,"div",13)(4,"a",14),m(5,"i",15),n()()(),i(6,"div",23),m(7,"input",24)(8,"app-svg-icon",4)(9,"app-feather-icon",25),n(),i(10,"div",26),b(11,ze,5,1,null,null,v),n()),t&2){let e=c();r(8),l("icon","stroke-search"),r(),l("icon","mic"),r(2),x(e.objectKeys(e.getContactGroup()))}}var V=class t{constructor(a){this.chatService=a}currentUserChat=new le;recentChats;groupChat=!1;activeId=2;activeTab="chats";activeChat=2;contacts=Me;colors=we;ngOnInit(){this.currentUserChat.emit(this.getCurrentUserChat())}ngOnChanges(){this.activeId&&(this.activeChat=this.activeId)}handleChat(a){this.activeChat=a.id,this.currentUserChat.emit(this.getCurrentUserChat())}getCurrentUserChat(){return this.recentChats.find(a=>a.id==this.activeChat)}objectKeys(a){return Object.keys(a)}getContactGroup(){let a={};return this.contacts.forEach(e=>{let o=e.user_name.charAt(0).toUpperCase();a[o]||(a[o]=[]),a[o].push(e)}),Object.keys(a).sort().reduce((e,o)=>(e[o]=a[o].sort((p,f)=>p.user_name.localeCompare(f.user_name)),e),{})}static \u0275fac=function(e){return new(e||t)(G(te))};static \u0275cmp=S({type:t,selectors:[["app-sidebar"]],inputs:{recentChats:"recentChats",groupChat:"groupChat",activeId:"activeId"},outputs:{currentUserChat:"currentUserChat"},features:[me],decls:17,vars:7,consts:[["nav","ngbNav"],[1,"left-sidebar-chat"],[1,"input-group"],[1,"input-group-text"],[3,"icon"],["type","text","placeholder","Search here..",1,"form-control"],[1,"advance-options"],["ngbNav","",1,"nav","border-tab",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"common-space"],[1,"header-top"],["href","javascript:void(0)",1,"btn","badge-light-primary","f-w-500"],[1,"fa-solid","fa-plus"],[1,"chats-user"],[1,"common-space",3,"active"],[1,"common-space",3,"click"],[1,"chat-time"],[1,"badge","badge-light-success"],[1,"active-profile"],[1,"img-fluid","rounded-circle",3,"src","alt"],[1,"search-contacts"],["type","text","placeholder","Name and phone number",1,"form-control"],[1,"mic-search",3,"icon"],[1,"contact-wrapper"],[1,"border-0"],[3,"class"],["ngbDropdown","",1,"contact-edit"],["ngbDropdownToggle","",3,"icon"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)","ngbDropdownItem","",1,"dropdown-item"]],template:function(e,o){if(e&1){let p=F();i(0,"div",1)(1,"div",2)(2,"span",3),m(3,"app-feather-icon",4),n(),m(4,"input",5),n()(),i(5,"div",6)(6,"ul",7,0),he("activeIdChange",function(g){return _(p),de(o.activeTab,g)||(o.activeTab=g),C(g)}),i(8,"li",8)(9,"a",9),s(10,"Chats"),n(),d(11,We,9,0,"ng-template",10),n(),i(12,"li",8)(13,"a",9),s(14,"Contacts"),n(),d(15,Je,13,2,"ng-template",10),n()(),m(16,"div",11),n()}if(e&2){let p=pe(7);r(3),ce("search-icon text-gray"),l("icon","search"),r(3),ue("activeId",o.activeTab),r(2),l("ngbNavItem","chats"),r(4),l("ngbNavItem","contact"),r(4),l("ngbNavOutlet",p)}},dependencies:[R,Se,_e,ve,fe,Ce,xe,be,ye,E,I,T,M,D,ge,U],encapsulation:2})};var Ze=["chat"],et=t=>({"background-image":t});function tt(t,a){if(t&1&&(i(0,"div",12),m(1,"div",25),i(2,"div",26)(3,"div",27)(4,"div",28),s(5),n(),i(6,"div",29),s(7),n()(),i(8,"div",30),s(9),n()()()),t&2){let e=a.$implicit,o=c();l("ngClass",e.is_reply?"right-msg":"left-msg"),r(),l("ngStyle",A(5,et,"url("+(e.is_reply?o.userDetails.user_profile:o.currentUserChat.user_profile)+")")),r(4),u(e.is_reply?o.userDetails.name:o.currentUserChat.user_name),r(2),u(e.time),r(2),u(e.chat)}}var ne=class t{chatContainer;userDetails=ie;recentChats=Ue;currentUserChat;inputMessage="";chatForm=new z({inputMessage:new J("")});handleChat(a){this.currentUserChat=a}handleKeyPress(a){a.key==="Enter"&&(a.preventDefault(),this.handleMessage())}handleMessage(){this.chatForm.value.inputMessage&&(this.currentUserChat.chats||(this.currentUserChat.chats=[]),this.currentUserChat.chats?.push({chat:this.chatForm.value.inputMessage,is_reply:!0,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})),this.chatForm.controls.inputMessage.setValue(""),this.scrollToBottom(),setTimeout(()=>{this.getReply()},500),setTimeout(()=>{this.currentUserChat.chats&&this.currentUserChat.chats.length&&(this.currentUserChat.last_message=this.currentUserChat.chats[this.currentUserChat.chats.length-1].chat,this.currentUserChat.message_time=this.currentUserChat.chats[this.currentUserChat.chats.length-1].time,this.currentUserChat.user_status="Online"),this.scrollToBottom()},500)}getReply(){let a=P[Math.floor(Math.random()*P.length)];this.currentUserChat.chats?.push({chat:a,is_reply:!1,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})}scrollToBottom(){setTimeout(()=>{this.chatContainer&&this.chatContainer.nativeElement.scrollTo({top:this.chatContainer.nativeElement.scrollHeight,behavior:"smooth"})},100)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-private-chat"]],viewQuery:function(e,o){if(e&1&&O(Ze,5),e&2){let p;B(p=$())&&(o.chatContainer=p.first)}},decls:27,vars:5,consts:[["chat",""],[1,"container-fluid"],[1,"row","g-0"],[1,"col-xxl-3","col-xl-4","col-md-5","box-col-5","xl-40"],[1,"left-sidebar-wrapper","card"],[3,"currentUserChat","recentChats"],[1,"col-xxl-9","col-xl-8","col-md-7","box-col-7","xl-60"],[1,"card","right-sidebar-chat"],[3,"currentUserChat"],[1,"right-sidebar-Chats"],[1,"msger"],[1,"msger-chat"],[1,"msg",3,"ngClass"],[1,"msger-inputarea",3,"formGroup"],["ngbDropdown","",1,"dropdown-form","dropdown-toggle"],["ngbDropdownToggle","",1,"icon-plus"],["ngbDropdownMenu","",1,"chat-icon","dropdown-menu","dropdown-menu-start"],["ngbDropdownItem","",1,"dropdown-item","mb-2"],[3,"icon"],["ngbDropdownItem","",1,"dropdown-item"],["type","text","placeholder","Type Message here..","formControlName","inputMessage",1,"msger-input","two","uk-textarea",3,"keypress"],[1,"open-emoji"],[1,"second-btn","uk-button"],["type","submit",1,"msger-send-btn",3,"click"],[1,"fa","fa-location-arrow"],[1,"msg-img",3,"ngStyle"],[1,"msg-bubble"],[1,"msg-info"],[1,"msg-info-name"],[1,"msg-info-time"],[1,"msg-text"]],template:function(e,o){if(e&1){let p=F();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-sidebar",5),y("currentUserChat",function(g){return _(p),C(o.handleChat(g))}),n()()(),i(5,"div",6)(6,"div",7),m(7,"app-chat-details-header",8),i(8,"div",9)(9,"div",10)(10,"div",11,0),b(12,tt,10,7,"div",12,v),n(),i(14,"form",13)(15,"div",14),m(16,"i",15),i(17,"div",16)(18,"div",17),m(19,"app-svg-icon",18),n(),i(20,"div",19),m(21,"app-svg-icon",18),n()()(),i(22,"input",20),y("keypress",function(g){return _(p),C(o.handleKeyPress(g))}),n(),i(23,"div",21),m(24,"div",22),n(),i(25,"button",23),y("click",function(){return _(p),C(o.handleMessage())}),m(26,"i",24),n()()()()()()()()}e&2&&(r(4),l("recentChats",o.recentChats),r(3),l("currentUserChat",o.currentUserChat),r(5),x(o.currentUserChat.chats),r(2),l("formGroup",o.chatForm),r(5),l("icon","camera"),r(2),l("icon","attchment"))},dependencies:[R,L,W,E,I,T,M,D,ee,Y,Q,q,K,X,Z,V,j,U],encapsulation:2})};var it=["chat"],nt=t=>({"background-image":t});function at(t,a){if(t&1&&(i(0,"div",12),m(1,"div",25),i(2,"div",26)(3,"div",27)(4,"div",28),s(5),n(),i(6,"div",29),s(7),n()(),i(8,"div",30),s(9),n()()()),t&2){let e=a.$implicit,o=c();l("ngClass",e.is_reply?"right-msg":"left-msg"),r(),l("ngStyle",A(5,nt,"url("+(e.is_reply?o.userDetails.user_profile:o.getUserProfile(o.currentUserChat.group_members,e.user_name))+")")),r(4),u(e.is_reply?o.userDetails.name:o.currentUserChat.group_name),r(2),u(e.time),r(2),u(e.chat)}}var ae=class t{chatContainer;userDetails=ie;groupChats=De;currentUserChat;inputMessage="";chatForm=new z({inputMessage:new J("")});handleChat(a){this.currentUserChat=a}getUserDetails(){if(this.currentUserChat.group_members)return this.currentUserChat.group_members[Math.floor(Math.random()*this.currentUserChat.group_members.length)]}handleKeyPress(a){a.key==="Enter"&&(a.preventDefault(),this.handleMessage())}handleMessage(){this.chatForm.value.inputMessage&&(this.currentUserChat.chats||(this.currentUserChat.chats=[]),this.currentUserChat.chats?.push({chat:this.chatForm.value.inputMessage,is_reply:!0,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})),this.chatForm.controls.inputMessage.setValue(""),this.scrollToBottom(),setTimeout(()=>{this.getReply()},500),setTimeout(()=>{this.currentUserChat.chats&&this.currentUserChat.chats.length&&(this.currentUserChat.last_message=this.currentUserChat.chats[this.currentUserChat.chats.length-1].chat,this.currentUserChat.message_time=this.currentUserChat.chats[this.currentUserChat.chats.length-1].time),this.scrollToBottom()},500)}getReply(){let a=P[Math.floor(Math.random()*P.length)],e;if(this.currentUserChat.group_members){let o=this.currentUserChat.group_members[Math.floor(Math.random()*P.length)];o&&(e=o.user_name)}this.currentUserChat.chats?.push({chat:a,is_reply:!1,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),user_name:e})}getUserProfile(a,e){if(e&&a){let o=a.find(p=>p.user_name===e);if(o)return o?.user_profile}}scrollToBottom(){setTimeout(()=>{this.chatContainer&&this.chatContainer.nativeElement.scrollTo({top:this.chatContainer.nativeElement.scrollHeight,behavior:"smooth"})},100)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-group-chat"]],viewQuery:function(e,o){if(e&1&&O(it,5),e&2){let p;B(p=$())&&(o.chatContainer=p.first)}},decls:27,vars:8,consts:[["chat",""],[1,"container-fluid"],[1,"row","g-0"],[1,"col-xxl-3","col-xl-4","col-md-5","box-col-5","xl-40"],[1,"left-sidebar-wrapper","card"],[3,"currentUserChat","recentChats","groupChat","activeId"],[1,"col-xxl-9","col-xl-8","col-md-7","box-col-7","xl-60"],[1,"card","right-sidebar-chat"],[3,"currentUserChat","groupChat"],[1,"right-sidebar-Chats"],[1,"msger"],[1,"msger-chat"],[1,"msg",3,"ngClass"],[1,"msger-inputarea",3,"formGroup"],["ngbDropdown","",1,"dropdown-form","dropdown-toggle"],["ngbDropdownToggle","",1,"icon-plus"],["ngbDropdownMenu","",1,"chat-icon","dropdown-menu","dropdown-menu-start"],["ngbDropdownItem","",1,"dropdown-item","mb-2"],[3,"icon"],["ngbDropdownItem","",1,"dropdown-item"],["type","text","placeholder","Type Message here..","formControlName","inputMessage",1,"msger-input","two","uk-textarea",3,"keypress"],[1,"open-emoji"],[1,"second-btn","uk-button"],["type","submit",1,"msger-send-btn",3,"click"],[1,"fa","fa-location-arrow"],[1,"msg-img",3,"ngStyle"],[1,"msg-bubble"],[1,"msg-info"],[1,"msg-info-name"],[1,"msg-info-time"],[1,"msg-text"]],template:function(e,o){if(e&1){let p=F();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-sidebar",5),y("currentUserChat",function(g){return _(p),C(o.handleChat(g))}),n()()(),i(5,"div",6)(6,"div",7),m(7,"app-chat-details-header",8),i(8,"div",9)(9,"div",10)(10,"div",11,0),b(12,at,10,7,"div",12,v),n(),i(14,"form",13)(15,"div",14),m(16,"i",15),i(17,"div",16)(18,"div",17),m(19,"app-svg-icon",18),n(),i(20,"div",19),m(21,"app-svg-icon",18),n()()(),i(22,"input",20),y("keypress",function(g){return _(p),C(o.handleKeyPress(g))}),n(),i(23,"div",21),m(24,"div",22),n(),i(25,"button",23),y("click",function(){return _(p),C(o.handleMessage())}),m(26,"i",24),n()()()()()()()()}e&2&&(r(4),l("recentChats",o.groupChats)("groupChat",!0)("activeId",1),r(3),l("currentUserChat",o.currentUserChat)("groupChat",!0),r(5),x(o.currentUserChat.chats),r(2),l("formGroup",o.chatForm),r(5),l("icon","camera"),r(2),l("icon","attchment"))},dependencies:[R,L,W,E,I,T,M,D,ee,Y,Q,q,K,X,Z,V,j,U],encapsulation:2})};var Ot=[{path:"private-chat",component:ne,data:{title:"Private Chat",breadcrumb:"Private Chat"}},{path:"group-chat",component:ae,data:{title:"Group Chat",breadcrumb:"Group Chat"}}];export{Ot as chat};
