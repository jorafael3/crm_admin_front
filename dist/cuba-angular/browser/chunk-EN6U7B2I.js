import{a as k,c as ee,d as te,e as ne,f as ie,g as ae,h as re,i as oe,j as le,p as M,r as W,t as D,u as de,v as se,w as F,x as ce,y as P}from"./chunk-MY7OKH47.js";import"./chunk-PP3P3RHU.js";import{A as $}from"./chunk-AHKOR54J.js";import{d as G,h as U,m as X,z as Z}from"./chunk-5WZK6UI3.js";import{D as K,y as J}from"./chunk-WPZ2662Z.js";import{Ab as N,Da as o,Ea as l,Ec as z,Fc as j,Gc as Q,Hb as B,Kc as m,Lc as E,Nb as y,Pc as v,Qc as u,Rc as h,Wb as f,Yb as x,a as g,ad as S,b as O,bd as H,cc as V,dd as Y,ec as L,ed as q,fc as A,gc as R,hc as a,ic as r,jc as b,l as I,nc as w,ub as p,wc as _,yc as c}from"./chunk-EOCIFGZ3.js";var me=["modalContent"];function _e(s,d){if(s&1){let e=w();a(0,"mwl-calendar-month-view",19),_("dayClicked",function(t){o(e);let i=c();return l(i.dayClicked(t.day))})("eventClicked",function(t){o(e);let i=c();return l(i.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){o(e);let i=c();return l(i.eventTimesChanged(t))}),r()}if(s&2){let e=c();f("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function pe(s,d){if(s&1){let e=w();a(0,"mwl-calendar-week-view",20),_("eventClicked",function(t){o(e);let i=c();return l(i.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){o(e);let i=c();return l(i.eventTimesChanged(t))}),r()}if(s&2){let e=c();f("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function Ce(s,d){if(s&1){let e=w();a(0,"mwl-calendar-day-view",20),_("eventClicked",function(t){o(e);let i=c();return l(i.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){o(e);let i=c();return l(i.eventTimesChanged(t))}),r()}if(s&2){let e=c();f("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function we(s,d){if(s&1){let e=w();a(0,"input",25),h("ngModelChange",function(t){o(e);let i=c().$implicit;return u(i.color.primary,t)||(i.color.primary=t),l(t)}),_("change",function(){o(e);let t=c(2);return l(t.refresh.next())}),r()}if(s&2){let e=c().$implicit;v("ngModel",e.color.primary)}}function ve(s,d){if(s&1){let e=w();a(0,"input",25),h("ngModelChange",function(t){o(e);let i=c().$implicit;return u(i.color.secondary,t)||(i.color.secondary=t),l(t)}),_("change",function(){o(e);let t=c(2);return l(t.refresh.next())}),r()}if(s&2){let e=c().$implicit;v("ngModel",e.color.secondary)}}function ue(s,d){if(s&1){let e=w();a(0,"input",25),_("ngModelChange",function(t){o(e);let i=c().$implicit;return l(i.color.secondaryText=t)})("change",function(){o(e);let t=c(2);return l(t.refresh.next())}),r()}if(s&2){let e,n=c().$implicit;f("ngModel",(e=n.color.secondaryText)!==null&&e!==void 0?e:"#404040")}}function he(s,d){if(s&1){let e=w();a(0,"tr")(1,"td")(2,"input",21),h("ngModelChange",function(t){let i=o(e).$implicit;return u(i.title,t)||(i.title=t),l(t)}),_("keyup",function(){o(e);let t=c();return l(t.refresh.next())}),r()(),a(3,"td"),y(4,we,1,1,"input",22),r(),a(5,"td"),y(6,ve,1,1,"input",22)(7,ue,1,1,"input",22),r(),a(8,"td")(9,"input",23),h("ngModelChange",function(t){let i=o(e).$implicit;return u(i.start,t)||(i.start=t),l(t)}),_("ngModelChange",function(){o(e);let t=c();return l(t.refresh.next())}),r()(),a(10,"td")(11,"input",23),h("ngModelChange",function(t){let i=o(e).$implicit;return u(i.end,t)||(i.end=t),l(t)}),_("ngModelChange",function(){o(e);let t=c();return l(t.refresh.next())}),r()(),a(12,"td")(13,"button",24),_("click",function(){let t=o(e).$implicit,i=c();return l(i.deleteEvent(t))}),m(14," Delete "),r()()()}if(s&2){let e=d.$implicit;p(2),v("ngModel",e.title),p(2),V(e.color?4:-1),p(2),V(e.color?6:-1),p(),V(e.color?7:-1),p(2),v("ngModel",e.start),p(2),v("ngModel",e.end)}}function fe(s,d){if(s&1){let e=w();a(0,"div",26)(1,"h5",27),m(2,"Event action occurred"),r(),a(3,"button",28),_("click",function(){let t=o(e).close;return l(t())}),r()(),a(4,"div",29)(5,"div"),m(6," Action: "),a(7,"pre"),m(8),r()(),a(9,"div"),m(10," Event: "),a(11,"pre"),m(12),S(13,"json"),r()()(),a(14,"div",30)(15,"button",31),_("click",function(){let t=o(e).close;return l(t())}),m(16," OK "),r()()}if(s&2){let e=c();p(8),E(e.modalDetails.action),p(4),E(H(13,2,e.modalDetails.event))}}var T=class s{constructor(d){this.modal=d}modalContent;view=k.Month;CalendarView=k;viewDate=new Date;refresh=new I;activeDayIsOpen=!0;color;modalDetails;colors={red:{primary:"#7366FF",secondary:"#e8e5ff"},blue:{primary:"#838383",secondary:"#f2f2f2"},yellow:{primary:"#ffb829",secondary:"#fff7e5"}};actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:d})=>{this.handleEvent("Edited",d)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:d})=>{this.events=this.events.filter(e=>e!==d),this.handleEvent("Deleted",d)}}];events=[{start:P(D(new Date),1),end:M(new Date,1),title:"A 3 day event",color:{primary:"#7366FF",secondary:"#838383"},actions:this.actions,allDay:!0,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{start:D(new Date),title:"An event with no end date",color:g({},this.colors.yellow),actions:this.actions},{start:P(F(new Date),3),end:M(F(new Date),3),title:"A long event that spans 2 months",color:g({},this.colors.blue),allDay:!0},{start:W(D(new Date),2),end:W(new Date,2),title:"A draggable and resizable event",color:g({},this.colors.yellow),actions:this.actions,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0}];dayClicked({date:d,events:e}){ce(d,this.viewDate)&&(de(this.viewDate,d)&&this.activeDayIsOpen===!0||e.length===0?this.activeDayIsOpen=!1:this.activeDayIsOpen=!0,this.viewDate=d)}eventTimesChanged({event:d,newStart:e,newEnd:n}){this.events=this.events.map(t=>t===d?O(g({},d),{start:e,end:n}):t),this.handleEvent("Dropped or resized",d)}handleEvent(d,e){this.modalDetails={event:e,action:d},this.modal.open(this.modalContent,{size:"lg",modalDialogClass:"calendar-event"})}addEvent(){this.events=[...this.events,{title:"New event",start:D(new Date),end:se(new Date),color:this.colors.red,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0}}]}deleteEvent(d){this.events=this.events.filter(e=>e!==d)}setView(d){this.view=d}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static \u0275fac=function(e){return new(e||s)(N($))};static \u0275cmp=B({type:s,selectors:[["app-calendar"]],viewQuery:function(e,n){if(e&1&&z(me,5),e&2){let t;j(t=Q())&&(n.modalContent=t.first)}},decls:57,vars:17,consts:[["modalContent",""],[1,"card","calender-wrapper"],[1,"card-body"],[1,"row","g-sm-3","g-2"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-outline-primary",3,"viewDateChange","view","viewDate"],["mwlCalendarToday","",1,"btn","btn-outline-primary",3,"viewDateChange","viewDate"],["mwlCalendarNextView","",1,"btn","btn-outline-primary",3,"viewDateChange","view","viewDate"],[1,"col-md-4","text-md-center"],[1,"col-md-4","text-md-end"],[1,"btn","btn-outline-primary",3,"click"],[3,"viewDate","events","refresh","activeDayIsOpen"],[3,"viewDate","events","refresh"],[1,"mb-sm-3","mb-2"],[1,"btn","btn-primary","float-end",3,"click"],[1,"clearfix"],[1,"table-responsive","custom-scrollbar"],[1,"table","table-bordered"],[3,"dayClicked","eventClicked","eventTimesChanged","viewDate","events","refresh","activeDayIsOpen"],[3,"eventClicked","eventTimesChanged","viewDate","events","refresh"],["type","text",1,"form-control",3,"ngModelChange","keyup","ngModel"],["type","color",3,"ngModel"],["type","text","mwlFlatpickr","","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-danger",3,"click"],["type","color",3,"ngModelChange","change","ngModel"],[1,"modal-header"],[1,"mb-0"],["type","button",1,"close","btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,n){if(e&1){let t=w();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),h("viewDateChange",function(C){return o(t),u(n.viewDate,C)||(n.viewDate=C),l(C)}),_("viewDateChange",function(){return o(t),l(n.closeOpenMonthViewDay())}),m(6," Previous "),r(),a(7,"div",7),h("viewDateChange",function(C){return o(t),u(n.viewDate,C)||(n.viewDate=C),l(C)}),m(8," Today "),r(),a(9,"div",8),h("viewDateChange",function(C){return o(t),u(n.viewDate,C)||(n.viewDate=C),l(C)}),_("viewDateChange",function(){return o(t),l(n.closeOpenMonthViewDay())}),m(10," Next "),r()()(),a(11,"div",9)(12,"h3"),m(13),S(14,"calendarDate"),r()(),a(15,"div",10)(16,"div",5)(17,"div",11),_("click",function(){return o(t),l(n.setView(n.CalendarView.Month))}),m(18," Month "),r(),a(19,"div",11),_("click",function(){return o(t),l(n.setView(n.CalendarView.Week))}),m(20," Week "),r(),a(21,"div",11),_("click",function(){return o(t),l(n.setView(n.CalendarView.Day))}),m(22," Day "),r()()()(),b(23,"br"),a(24,"div"),y(25,_e,1,4,"mwl-calendar-month-view",12)(26,pe,1,3,"mwl-calendar-week-view",13)(27,Ce,1,3,"mwl-calendar-day-view",13),r(),b(28,"br")(29,"br")(30,"br"),a(31,"h3",14),m(32," Edit events "),a(33,"button",15),_("click",function(){return o(t),l(n.addEvent())}),m(34," Add new "),r(),b(35,"div",16),r(),a(36,"div",17)(37,"table",18)(38,"thead")(39,"tr")(40,"th"),m(41,"Title"),r(),a(42,"th"),m(43,"Primary color"),r(),a(44,"th"),m(45,"Secondary + text color"),r(),a(46,"th"),m(47,"Starts at"),r(),a(48,"th"),m(49,"Ends at"),r(),a(50,"th"),m(51,"Remove"),r()()(),a(52,"tbody"),A(53,he,15,6,"tr",null,L),r()()(),y(55,fe,17,4,"ng-template",null,0,q),r()()}if(e&2){let t;p(5),f("view",n.view),v("viewDate",n.viewDate),p(2),v("viewDate",n.viewDate),p(2),f("view",n.view),v("viewDate",n.viewDate),p(4),E(Y(14,13,n.viewDate,n.view+"ViewTitle","en")),p(4),x("active",n.view===n.CalendarView.Month),p(2),x("active",n.view===n.CalendarView.Week),p(2),x("active",n.view===n.CalendarView.Day),p(4),V((t=n.view)===n.CalendarView.Month?25:t===n.CalendarView.Week?26:t===n.CalendarView.Day?27:-1),p(28),R(n.events)}},dependencies:[le,ee,te,ne,ie,ae,re,oe,K,J,Z,G,U,X],encapsulation:2})};var Be=[{path:"",component:T,data:{title:"Calender",breadcrumb:"Calender"}}];export{Be as calendar};
