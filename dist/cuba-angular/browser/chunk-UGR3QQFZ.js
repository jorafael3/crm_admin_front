import{A as T,d as E,f as x,h as M,i as N,n as V,q as O,r as P,s as $,t as G,u as K,y as A,z as D}from"./chunk-5WZK6UI3.js";import"./chunk-WPZ2662Z.js";import{Ab as I,Da as p,Ea as u,Hb as _,Kc as l,Lc as w,Mc as B,Wb as c,ec as C,fc as k,gc as v,hc as r,ic as a,jc as b,nc as S,ub as d,wc as f,yc as m}from"./chunk-EOCIFGZ3.js";function z(i,t){if(i&1){let e=S();r(0,"li",22),f("dragstart",function(o){let s=p(e),g=s.$implicit,y=s.$index,R=m().$implicit,q=m();return u(q.onDragStart(o,g,R,y))})("dragover",function(o){p(e);let s=m(2);return u(s.allowDrop(o))})("drop",function(o){let s=p(e).$index,g=m().$implicit,y=m();return u(y.onDropInsideColumn(o,g,s))}),l(1),a()}if(i&2){let e=t.$implicit;d(),B(" ",e," ")}}function H(i,t){if(i&1){let e=S();r(0,"div",11)(1,"div",18),f("dragover",function(o){p(e);let s=m();return u(s.allowDrop(o))})("drop",function(o){let s=p(e).$implicit,g=m();return u(g.onDrop(o,s))}),r(2,"h5",19),l(3),a(),r(4,"ul",20),k(5,z,2,1,"li",21,C),a()()()}if(i&2){let e=t.$implicit;d(3),w(e.title),d(2),v(e.tasks)}}function L(i,t){if(i&1&&(r(0,"option",15),l(1),a()),i&2){let e=t.$implicit,n=t.$index;c("value",n),d(),w(e.title)}}var h=class i{constructor(t){this.fb=t;this.createBoardForm=this.fb.group({boardTitle:["",x.required]}),this.createCardForm=this.fb.group({cardText:["",x.required],columnIndex:[null,x.required]})}columns=[{title:"In Review",tasks:["Task 1","Task 2","Task 3","Task 4"]},{title:"Pending",tasks:["Task 5","Task 6","Task 7"]},{title:"In Progress",tasks:["Task 8","Task 9"]},{title:"Completed",tasks:["Task 10"]}];createBoardForm;createCardForm;draggedTaskIndex=null;draggedTaskColumn=null;createBoard(){if(this.createBoardForm.valid){let t=this.createBoardForm.value.boardTitle.trim();this.columns.push({title:t,tasks:[]}),this.createBoardForm.reset()}}addCard(){if(this.createCardForm.valid){let{cardText:t,columnIndex:e}=this.createCardForm.value;this.columns[e].tasks.push(t.trim()),this.createCardForm.reset()}}onDragStart(t,e,n,o){this.draggedTaskIndex=o,this.draggedTaskColumn=n,t.dataTransfer?.setData("text/plain",JSON.stringify({task:e}))}allowDrop(t){t.preventDefault()}onDrop(t,e){t.preventDefault();let n=JSON.parse(t.dataTransfer?.getData("text/plain")||"{}");!this.draggedTaskColumn||this.draggedTaskColumn===e||(this.draggedTaskColumn.tasks.splice(this.draggedTaskIndex,1),e.tasks.push(n.task),this.draggedTaskIndex=null,this.draggedTaskColumn=null)}onDropInsideColumn(t,e,n){if(t.preventDefault(),this.draggedTaskColumn!==e||this.draggedTaskIndex===null)return;let o=e.tasks[this.draggedTaskIndex];e.tasks.splice(this.draggedTaskIndex,1),e.tasks.splice(n,0,o),this.draggedTaskIndex=null,this.draggedTaskColumn=null}static \u0275fac=function(e){return new(e||i)(I(A))};static \u0275cmp=_({type:i,selectors:[["app-default-demo"]],decls:31,vars:5,consts:[[1,"card","shadow-lg","rounded"],[1,"card-header"],[1,"f-m-light","mt-1"],[1,"card-body"],["id","demo1",1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"pb-2"],["type","text","formControlName","boardTitle","placeholder","Enter board title",1,"form-control","mb-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"kanban-board","row","g-xl-4","g-3"],[1,"col-12","col-xl-3","col-sm-6"],[1,"mt-md-5","mt-4"],["formControlName","columnIndex",1,"form-control","mb-2"],["disabled","",3,"value"],[3,"value"],["type","text","formControlName","cardText","placeholder","Enter card text",1,"form-control","mb-3"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"kanban-column","border","rounded","p-3","bg-light",3,"dragover","drop"],[1,"mb-3"],[1,"list-unstyled"],["draggable","true",1,"kanban-task","p-2","bg-white","rounded","shadow-sm"],["draggable","true",1,"kanban-task","p-2","bg-white","rounded","shadow-sm",3,"dragstart","dragover","drop"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h5"),l(3,"Create Board and Cards"),a(),r(4,"p",2),l(5,"Add boards and tasks"),a()(),r(6,"div",3)(7,"div",4)(8,"form",5),f("ngSubmit",function(){return n.createBoard()}),r(9,"div",6)(10,"h3",7),l(11,"Create Board"),a(),b(12,"input",8),r(13,"button",9),l(14," Add Board "),a()()()(),r(15,"div",10),k(16,H,7,1,"div",11,C),a(),r(18,"div",12)(19,"form",5),f("ngSubmit",function(){return n.addCard()}),r(20,"div",6)(21,"h3",7),l(22,"Create Card"),a(),r(23,"select",13)(24,"option",14),l(25,"Select Board"),a(),k(26,L,2,2,"option",15,C),a(),b(28,"input",16),r(29,"button",17),l(30," Add Card "),a()()()()()()),e&2&&(d(8),c("formGroup",n.createBoardForm),d(5),c("disabled",n.createBoardForm.invalid),d(3),v(n.columns),d(3),c("formGroup",n.createCardForm),d(5),c("value",null),d(2),v(n.columns),d(3),c("disabled",n.createCardForm.invalid))},dependencies:[D,V,G,K,E,$,M,N,T,O,P],encapsulation:2})};var F=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-kanban"]],decls:4,vars:0,consts:[[1,"container-fluid","jkanban-container"],[1,"row"],[1,"col-12"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),b(3,"app-default-demo"),a()()())},dependencies:[D,T,h],styles:[".kanban-board[_ngcontent-%COMP%]   .kanban-column[_ngcontent-%COMP%]{background:#f4f4f4;padding:16px;border:1px solid #ccc;border-radius:4px}.kanban-board[_ngcontent-%COMP%]   .kanban-column[_ngcontent-%COMP%]:hover{background:#eaeaea}.kanban-board[_ngcontent-%COMP%]   .kanban-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.kanban-board[_ngcontent-%COMP%]   .kanban-task[_ngcontent-%COMP%]{padding:8px;margin-bottom:8px;background:#fff;border:1px solid #ddd;border-radius:4px;cursor:grab}.kanban-board[_ngcontent-%COMP%]   .kanban-task[_ngcontent-%COMP%]:active{cursor:grabbing}"]})};var re=[{path:"",component:F,data:{pageTitle:"Kanban Board",title:"Kanban",breadcrumb:"Kanban"}}];export{re as kanban};
